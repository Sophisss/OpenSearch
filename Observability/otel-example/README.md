# 🔍 Understanding the OpenTelemetry Demo

## ✅ What is the OpenTelemetry Demo?
The **OpenTelemetry Demo** is a sample application designed to help users learn how to monitor and observe microservices using OpenTelemetry. 
It simulates an online store called "Astronomy Shop," where users can browse and purchase astronomy-related products. This demo showcases how different services can work together and how OpenTelemetry collects data about their performance and interactions.


## 🏗️ Architecture Overview
The demo consists of several components:

1. **Core services**: These services are written in various programming languages and communicate over HTTP or gRPC.
2. **Dependencies**: Services that support the application services, such as Redis, Kafka, and Valkey.
3. **Telemetry services**: Components that deal with the telemetry data generated by the above services like the OpenTelemetry Collector and OpenSearch.
4. **Utility services**: These are additional services that provide specific functionality to support the core application such as the load-generator that simulates user traffic to test the system.

## 🔁 How Telemetry Data Flows
1. **User Interaction**: The load generator mimics users interacting with the frontend.
2. **Service Communication**: The frontend communicates with backend services like the cart and checkout services.
3. **Data Collection**: Each service, instrumented with OpenTelemetry, collects data (traces, metrics, logs) about these interactions.
4. **Data Export**: This data is sent to the OpenTelemetry Collector.
5. **Data Processing**: The collector processes and forwards the data to tools like OpenSearch for storage and visualization.


## 🎯 Setting Up the Demo
To run the demo on your local machine:

1. **Clone the repository**:
```bash
   git clone https://github.com/jkowall/opensearch-talk.git
```

2. Navigate to the directory and **start the services with Docker Compose**:
```bash
   docker-compose up -d
```
This command starts all the necessary services in the background.

💡 **This repository provides a fully pre-configured `docker-compose.yml` and updated configuration files.**
All services are already instrumented to export **only tracing data** to **OpenSearch**, so you don't need to modify anything manually. It's ready to use out of the box.

3. **Access the Interfaces**:
* Application Frontend: http://localhost:8080/
* Load Generator: http://localhost:8089/
* OpenSearch Dashboards: http://localhost:5601/app/observability-traces#/traces
  * *Default login credentials:* `admin / my_%New%_passW0rd!@#`

## 📚 Further Resources
For more in-depth information:
* [OpenTelemetry Demo Architecture](https://opentelemetry.io/docs/demo/architecture/)
* [OpenTelemetry Demo with OpenSearch GitHub Repository](https://github.com/jkowall/opensearch-talk.git)
* [OpenTelemetry Demo GitHub Repository](https://github.com/open-telemetry/opentelemetry-demo)
* [OpenTelemetry Documentation](https://opentelemetry.io/docs/)

## ⚖️ Comparing OpenTelemetry Demo Repositories
There are two main repositories used to explore OpenTelemetry in practice. Here's how they differ:

🟢 `open-telemetry/opentelemetry-demo` – Official Demo
* 🔧 Uses **Jaeger for traces**, **Prometheus + Grafana for metrics**, and supports logging backends optionally.
* 💡 Great for learning **OpenTelemetry in a backend-neutral setup**.
* 🌍 Ideal for exploring **full observability (tracing, metrics, logs)** with multiple backends.
* 🔗 [GitHub Repository](https://github.com/open-telemetry/opentelemetry-demo)

🔵 `jkowall/opensearch-talk` – OpenSearch-Focused Demo
* ✅ A fork focused on **OpenSearch integration**.
* 📊 Tracing is visualized directly in **OpenSearch Dashboards** (at `/observability-traces`).
* 💡 Ideal if you're using or evaluating **OpenSearch as a unified observability backend**.
* 🔗 [GitHub Repository](https://github.com/jkowall/opensearch-talk.git)

### 📄 Licensing and Attribution
This demo setup and explanation is based on the following open-source projects:
1. [OpenTelemetry Demo](https://github.com/open-telemetry/opentelemetry-demo) – Licensed under the Apache License 2.0
2. [OpenTelemetry Demo with OpenSearch](https://github.com/jkowall/opensearch-talk.git) – A fork focused on OpenSearch integration, also under the Apache License 2.0

Please refer to the respective repositories for detailed licensing information.
This documentation is provided for educational and demonstration purposes, with proper attribution to the original authors.