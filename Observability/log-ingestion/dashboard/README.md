# üìä OpenSearch Dashboard: HTTP Logs with Geolocation

This demo sets up an OpenSearch index and dashboard to visualize log data enriched with geographic coordinates. It uses data created by the [`Fake-Logger Pyhton Script`](/Observability/log-ingestion/FakeLogger.py) that was used in the log example.

## üõ†Ô∏è Setup Instructions

The Fake Logger script ingests location data as separate `lat` and `lon` fields. We therefore have to create a ingest-pipeline to create a single geopoint type field to combine those. If the index `logs-demo` already exists - delete it and follow these steps:

---

### 1. Create an Ingest Pipeline

This pipeline combines `lat` and `lon` fields into a `location` field (type `geo_point`).

```json
PUT _ingest/pipeline/add-geopoint
{
  "description": "Create location geo_point from separate lat/lon",
  "processors": [
    {
      "set": {
        "field": "location",
        "value": "{{lat}},{{lon}}"
      }
    }
  ]
}
```
---
### 2. Define an Index Template

This sets up the mapping for your `logs-demo` index and assigns the default pipeline.

```json
PUT _index_template/geo-template
{
  "index_patterns": ["logs-demo"],
  "template": {
    "settings": {
      "index.default_pipeline": "add-geopoint"
    },
    "mappings": {
      "properties": {
        "lat": { "type": "float" },
        "lon": { "type": "float" },
        "location": { "type": "geo_point" }
      }
    }
  }
}
```
---

### 3. Create the Index

üîÑ Any documents indexed into logs-demo that include `lat` and `lon` will automatically have a location field generated by the pipeline.
```json
PUT logs-demo
```
---
## üìà Dashboard
Therefore we created a dashboard with ability to:
- Visualize HTTP method usage (GET, POST, etc.)
- Display geolocated events on a map
- Provide insights into traffic

![Dashboard Screenshot](/Observability/log-ingestion/dashboard/Dashboard-Preview.png)
